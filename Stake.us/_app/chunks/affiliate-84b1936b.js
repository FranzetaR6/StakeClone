import{U as s}from"./vendor-202ba1b8.js";import{i as d,ah as m}from"./index-239f6385.js";const c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TrackCampaignHit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackCampaignHit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}}]}]}}]},e=s.namespace("affiliate"),p=async i=>{const a=d(),n=e.has("code")?Date.now()>e.get("code").expiry:!1,t=!(r()===i)&&!n,o=Date.now()+m*15;e.set("code",{code:i,expiry:o}),t&&await a.mutation(c,{code:i}).toPromise()},r=()=>e.has("code")?e.get("code").code:void 0;export{r as g,p as r};
