import{S as D,i as E,s as I,bs as _,B as k,e as m,t as K,c as b,a as g,g as L,d,b as v,aO as N,a0 as O,f as M,a1 as p,a2 as P,h as R,p as U,ae as S,ag as j,ai as G,aj as J,b2 as Q,j as W,k as X,m as Y,n as Z,o as x,x as T,u as q,v as $,r as ee,a8 as te,a9 as ae,w as le}from"./vendor-202ba1b8.js";import{b5 as w,H as re,p as se}from"./index-239f6385.js";var B="/_app/assets/background-1e4b1aac.svg";const ne=({value:r,isFiat:t})=>{const e=t?r:Math.round(r*1e8);if(t){if(e<1)return e.toFixed(2)}else if(e<1)return Math.floor(e);return e<1e3?e>Math.floor(e)?Math.floor(e)+"+":Math.floor(e):e<1e6?`${e/1e3>Math.floor(e/1e3)?Math.floor(e/1e3)+"K+":Math.floor(e/1e3)+"K"}`:e<1e9?`${e/1e6>Math.floor(e/1e6)?Math.floor(e/1e6)+"M+":Math.floor(e/1e6)+"M"}`:e<1e12?`${e/1e9>Math.floor(e/1e9)?Math.floor(e/1e9)+"B+":Math.floor(e/1e9)+"B"}`:e<1e15?`${e/1e12>Math.floor(e/1e12)?Math.floor(e/1e12)+"T+":Math.floor(e/1e12)+"T"}`:e};function oe(r){let t,e,n,o,i,u,l=[r[5],{class:"wrap"},{value:r[0]},{disabled:r[1]},{"data-selected":r[2]},{style:o="background-color: "+r[3]+"; background-image: url("+B+"); box-shadow: 0 0.125em 0 0 "+_(r[3]).darken(2)+"; "+(r[2]?`
      box-shadow: 0 0.125rem 0 0 ${_(r[3]).darken(2)}, 0 0.065rem 0 0.25rem #fff;
    `:"")+""}],a={};for(let s=0;s<l.length;s+=1)a=k(a,l[s]);return{c(){t=m("button"),e=m("div"),n=K(r[4]),this.h()},l(s){t=b(s,"BUTTON",{class:!0,"data-selected":!0,style:!0});var c=g(t);e=b(c,"DIV",{class:!0});var h=g(e);n=L(h,r[4]),h.forEach(d),c.forEach(d),this.h()},h(){v(e,"class","content svelte-znecuq"),N(t,a),O(t,"svelte-znecuq",!0)},m(s,c){M(s,t,c),p(t,e),p(e,n),t.autofocus&&t.focus(),i||(u=P(t,"click",r[10]),i=!0)},p(s,[c]){c&16&&R(n,s[4]),N(t,a=U(l,[c&32&&s[5],{class:"wrap"},c&1&&{value:s[0]},c&2&&{disabled:s[1]},c&4&&{"data-selected":s[2]},c&12&&o!==(o="background-color: "+s[3]+"; background-image: url("+B+"); box-shadow: 0 0.125em 0 0 "+_(s[3]).darken(2)+"; "+(s[2]?`
      box-shadow: 0 0.125rem 0 0 ${_(s[3]).darken(2)}, 0 0.065rem 0 0.25rem #fff;
    `:"")+"")&&{style:o}])),O(t,"svelte-znecuq",!0)},i:S,o:S,d(s){s&&d(t),i=!1,u()}}}function ie(r,t,e){let n,o,i,u;const l=["value","totalValue","currency","disabled","selected"];let a=j(t,l);var s=_.scale(["#ffce00","#fca32f","#fc4c11","#d9002f"]).mode("rgb").colors(w.default.length);let{value:c=0}=t,{totalValue:h=0}=t,{currency:y}=t,{disabled:V=void 0}=t,{selected:C=void 0}=t;function F(f){J.call(this,r,f)}return r.$$set=f=>{t=k(k({},t),G(f)),e(5,a=j(t,l)),"value"in f&&e(0,c=f.value),"totalValue"in f&&e(6,h=f.totalValue),"currency"in f&&e(7,y=f.currency),"disabled"in f&&e(1,V=f.disabled),"selected"in f&&e(2,C=f.selected)},r.$$.update=()=>{r.$$.dirty&193&&e(4,n=ne({value:h||c,isFiat:y in re})),r.$$.dirty&1&&e(9,o=String(Math.round(c/1e-8)).length),r.$$.dirty&512&&e(8,i=Math.min(o,s.length)-1),r.$$.dirty&256&&e(3,u=s[i])},[c,V,C,u,n,a,h,y,i,o,F]}class ue extends D{constructor(t){super();E(this,t,ie,oe,I,{value:0,totalValue:6,currency:7,disabled:1,selected:2})}}var ce="/_app/assets/place-7fa5504d.mp3";const z={place:new Q.Howl({src:[ce]})},fe=({value:r,chipDenominations:t})=>{let e=[];return t.slice().sort((n,o)=>o-n).forEach(n=>{const o=Math.round(Number(r)/n);e=[...e,...Array(o).fill(n)],o===3?r=0:r=se(Number(r)%n)}),e.slice(0,5)};function A(r,t,e){const n=r.slice();return n[5]=t[e],n[7]=e,n}function H(r,t){let e,n,o,i,u;return n=new ue({props:{"data-test":"chip-stack-"+t[5],value:t[5],totalValue:t[0],currency:t[1]}}),{key:r,first:null,c(){e=m("div"),W(n.$$.fragment),o=X(),this.h()},l(l){e=b(l,"DIV",{style:!0});var a=g(e);Y(n.$$.fragment,a),o=Z(a),a.forEach(d),this.h()},h(){v(e,"style",i=t[7]>0?`position: absolute; top: 0; left: 0; transform: translate(0%, -${t[7]*15}%)`:""),this.first=e},m(l,a){M(l,e,a),x(n,e,null),p(e,o),u=!0},p(l,a){t=l;const s={};a&4&&(s["data-test"]="chip-stack-"+t[5]),a&4&&(s.value=t[5]),a&1&&(s.totalValue=t[0]),a&2&&(s.currency=t[1]),n.$set(s),(!u||a&4&&i!==(i=t[7]>0?`position: absolute; top: 0; left: 0; transform: translate(0%, -${t[7]*15}%)`:""))&&v(e,"style",i)},i(l){u||(T(n.$$.fragment,l),u=!0)},o(l){q(n.$$.fragment,l),u=!1},d(l){l&&d(e),$(n)}}}function de(r){let t,e=[],n=new Map,o,i=r[2];const u=l=>l[7];for(let l=0;l<i.length;l+=1){let a=A(r,i,l),s=u(a);n.set(s,e[l]=H(s,a))}return{c(){t=m("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=b(l,"DIV",{class:!0});var a=g(t);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(d),this.h()},h(){v(t,"class","wrap svelte-1rraoj6")},m(l,a){M(l,t,a);for(let s=0;s<e.length;s+=1)e[s].m(t,null);o=!0},p(l,[a]){a&7&&(i=l[2],ee(),e=te(e,a,u,1,l,i,n,t,ae,H,null,A),le())},i(l){if(!o){for(let a=0;a<i.length;a+=1)T(e[a]);o=!0}},o(l){for(let a=0;a<e.length;a+=1)q(e[a]);o=!1},d(l){l&&d(t);for(let a=0;a<e.length;a+=1)e[a].d()}}}function he(r,t,e){let n,{value:o}=t,{currency:i}=t,{chipDenominations:u=w.default}=t;var l=o;return r.$$set=a=>{"value"in a&&e(0,o=a.value),"currency"in a&&e(1,i=a.currency),"chipDenominations"in a&&e(3,u=a.chipDenominations)},r.$$.update=()=>{r.$$.dirty&9&&e(2,n=fe({value:o,chipDenominations:u})),r.$$.dirty&17&&o!==l&&(z.place.stop(),z.place.play(),e(4,l=o))},[o,i,n,u,l]}class be extends D{constructor(t){super();E(this,t,he,de,I,{value:0,currency:1,chipDenominations:3})}}export{be as C,ue as a};
