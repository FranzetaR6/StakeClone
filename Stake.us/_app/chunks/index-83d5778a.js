var ge=Object.defineProperty,be=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var Z=(n,a,e)=>a in n?ge(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,d=(n,a)=>{for(var e in a||(a={}))Ve.call(a,e)&&Z(n,e,a[e]);if(U)for(var e of U(a))Pe.call(a,e)&&Z(n,e,a[e]);return n},s=(n,a)=>be(n,Be(a));import{y as he,aV as Fe,a$ as J,C as V,ar as k,R as B,_ as v,b0 as h}from"./vendor-202ba1b8.js";import{P as Me,_ as Te,i as E,p as D,X as De,$ as Ce}from"./index-239f6385.js";import{a as Ae}from"./index-1d03818a.js";import{s as X}from"./index-b069bb96.js";import{m as Y}from"./index-4a1eddb6.js";import{d as A}from"./index-da75da01.js";import{o as $}from"./index-0ce918a4.js";import{S as ee}from"./SportBet.generated-88f1742a.js";import{P as I}from"./PlayerPropBetFragment.generated-cd4c3d19.js";import{S as q,a as Ie}from"./CompetitorFragment.generated-fe61321c.js";import{S as w}from"./SportFixtureEventStatus.generated-36e4eb90.js";import{r as Re}from"./requestClient-501ba30b.js";import{m as ae}from"./makeFetchStore-06397d55.js";const ne="__stores__sportsEmitter",R=Me(),Le=n=>R.subscribe(a=>{const e=a.type in n?n[a.type]:void 0;e&&e(a)}),Ta=()=>{const n={emitter:R,subscribeToSportsEmitter:Le};return he(ne,n),n},Da=()=>Fe(ne),_e={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BetSportBet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Bet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"iid"}},{kind:"Field",name:{kind:"Name",value:"bet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SportBet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportBet"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlayerPropBet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerPropBetFragment"}}]}}]}}]}},...ee.definitions,...I.definitions]},Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SportSportList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"sportBetList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BetSportBet"}}]}}]}}]}},..._e.definitions]},xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveSportBets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"UserBetsSortEnum"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SportBetStatusEnum"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"activeSportBets"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportBet"}}]}},{kind:"Field",name:{kind:"Name",value:"activePlayerPropBetList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerPropBetFragment"}}]}}]}}]}},...ee.definitions,...I.definitions]},te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MarketQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"marketId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sportMarket"},arguments:[{kind:"Argument",name:{kind:"Name",value:"marketId"},value:{kind:"Variable",name:{kind:"Name",value:"marketId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarket"}},{kind:"Field",name:{kind:"Name",value:"outcomes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarketOutcome"}}]}},{kind:"Field",name:{kind:"Name",value:"fixture"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportFixtureDataMatch"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]}},...q.definitions,...w.definitions,...Ie.definitions]},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SportBetMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currency"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"outcomeIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SportOddsChangeEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sportBet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"currency"},value:{kind:"Variable",name:{kind:"Name",value:"currency"}}},{kind:"Argument",name:{kind:"Name",value:"outcomeIds"},value:{kind:"Variable",name:{kind:"Name",value:"outcomeIds"}}},{kind:"Argument",name:{kind:"Name",value:"oddsChange"},value:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}}},{kind:"Argument",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"payoutMultiplier"}},{kind:"Field",name:{kind:"Name",value:"outcomes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"odds"}},{kind:"Field",name:{kind:"Name",value:"outcome"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarketOutcome"}},{kind:"Field",name:{kind:"Name",value:"market"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarket"}}]}}]}}]}}]}}]}},...w.definitions,...q.definitions]},re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePlayerPropBet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currency"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lines"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePlayerPropBetLinesInput"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"requestedMultiplier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlayerPropOddsChangeEnum"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPlayerPropBet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"currency"},value:{kind:"Variable",name:{kind:"Name",value:"currency"}}},{kind:"Argument",name:{kind:"Name",value:"lines"},value:{kind:"Variable",name:{kind:"Name",value:"lines"}}},{kind:"Argument",name:{kind:"Name",value:"requestedMultiplier"},value:{kind:"Variable",name:{kind:"Name",value:"requestedMultiplier"}}},{kind:"Argument",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}},{kind:"Argument",name:{kind:"Name",value:"oddsChange"},value:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerPropBetFragment"}}]}}]}},...I.definitions]},Ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CustomSportBetMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currency"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"outcomeIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SportOddsChangeEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customSportBet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"currency"},value:{kind:"Variable",name:{kind:"Name",value:"currency"}}},{kind:"Argument",name:{kind:"Name",value:"outcomeIds"},value:{kind:"Variable",name:{kind:"Name",value:"outcomeIds"}}},{kind:"Argument",name:{kind:"Name",value:"oddsChange"},value:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}}},{kind:"Argument",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"payoutMultiplier"}},{kind:"Field",name:{kind:"Name",value:"outcomes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"odds"}},{kind:"Field",name:{kind:"Name",value:"outcome"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarketOutcome"}},{kind:"Field",name:{kind:"Name",value:"market"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SportMarket"}}]}}]}}]}}]}}]}},...w.definitions,...q.definitions]},qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePlayerPropCustomBet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currency"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lines"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePlayerPropCustomBetLinesInput"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlayerPropOddsChangeEnum"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"requestedMultiplier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sport"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlayerPropSportEnum"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPlayerPropCustomBet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"currency"},value:{kind:"Variable",name:{kind:"Name",value:"currency"}}},{kind:"Argument",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}},{kind:"Argument",name:{kind:"Name",value:"lines"},value:{kind:"Variable",name:{kind:"Name",value:"lines"}}},{kind:"Argument",name:{kind:"Name",value:"oddsChange"},value:{kind:"Variable",name:{kind:"Name",value:"oddsChange"}}},{kind:"Argument",name:{kind:"Name",value:"requestedMultiplier"},value:{kind:"Variable",name:{kind:"Name",value:"requestedMultiplier"}}},{kind:"Argument",name:{kind:"Name",value:"sport"},value:{kind:"Variable",name:{kind:"Name",value:"sport"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerPropBetFragment"}}]}}]}},...I.definitions]},we={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SportsMinBet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"info"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currencies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"sportBetMin"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}}]}}]},je=async n=>{var a;try{const e=await Re({doc:we,load:n,variables:{}});return((a=e==null?void 0:e.data)==null?void 0:a.info.currencies)||[]}catch{return[]}},de="betslipBets",Qe=()=>J.exports.get(de,[]),We=()=>J.exports.set(de,[]),Ge=async n=>{const a=E(),e=Qe();We();const m=(await Promise.all(e.map(o=>a.query({query:te,variables:{marketId:o.marketId}})))).map((o,u)=>({market:o.data&&o.data.sportMarket?o.data.sportMarket:null,bet:e[u]})).filter(o=>o.market&&Te.includes(o.market.status)).map(({market:o,bet:u})=>{const N=o.outcomes.find(p=>p.id===u.betId);return N===void 0?!1:{marketId:o.id,fixtureId:o.fixture.id,id:u.betId,odds:N.odds,acceptedOdds:N.odds,betResponse:void 0,status:o.status}}).filter(Boolean);return m.length!==0?m:null},j=V("betSlip"),F=V(D(0)),T=V(""),M=k(T,n=>h("betSlip.single",n)?"single":"multi"),ze=(()=>{const n=V([]);return s(d({},n),{add:a=>{B(n).some(t=>t.id===a.id&&t.type===a.type)===!1&&n.update(t=>[...t,a])},remove:a=>{n.update(e=>e.filter(t=>!(t.id===a.id&&t.type===a.type)))}})})(),Ke=(()=>{const n=V([]);return s(d({},n),{add:a=>{B(n).some(t=>t.id===a.id)===!1&&n.update(t=>[...t,a])},remove:a=>{n.update(e=>e.filter(t=>t.id!==a.id))}})})(),P=(()=>{const n=V({}),a=()=>{const e=D(0);B(M)==="single"?n.update(i=>v.mapValues(i,()=>e)):F.set(e)};return A.subscribe(()=>{a()}),s(d({},n),{clear:()=>n.set({}),removeInput:e=>n.update(t=>v.omit(t,e)),setBetIdValue:({betId:e,value:t})=>{n.update(i=>s(d({},i),{[e]:t}))},reset:a})})(),C=(()=>{const n=V({}),a=(e,t)=>{n.update(i=>s(d({},i),{[e]:t(i[e])}))};return s(d({},n),{remove:e=>{P.removeInput(e),n.update(t=>v.omit(t,e))},add:e=>{const t=B(P)[e.id];B(Y)===!1&&X.set("betslip"),j.set("betSlip"),n.update(i=>s(d({},i),{[e.id]:s(d({},e),{acceptedOdds:e.odds})})),t===void 0&&P.setBetIdValue({betId:e.id,value:D(0)})},updateBet:a,setStatus:({betId:e,status:t})=>{a(e,i=>s(d({},i),{status:t}))},setOdds:({betId:e,odds:t})=>a(e,i=>s(d({},i),{odds:t})),removeBetResponses:()=>{n.update(e=>v.mapValues(e,i=>v.omit(i,"betResponse")))},acceptNewOdds:()=>{n.update(e=>v.mapValues(e,t=>s(d({},t),{acceptedOdds:t.odds})))},acceptNewBetOdds:({betId:e,odds:t})=>{a(e,i=>s(d({},i),{odds:t,acceptedOdds:t}))},removeAll:()=>{P.clear(),n.set({})},removeSuccessfulBets:()=>{n.update(e=>v.mapValues(v.pickBy(e,t=>{var i;return((i=t==null?void 0:t.betResponse)==null?void 0:i.type)==="error"}),t=>v.omit(t,"betResponse")))}})})(),Q=(()=>{const n=V({});return s(d({},n),{remove:a=>{n.update(e=>s(d({},e),{[a.fixture.id]:v.omit(e[a.fixture.id],a.id)}))},add:a=>{n.update(e=>{var t;return s(d({},e),{[a.fixture.id]:s(d({},e==null?void 0:e[(t=a==null?void 0:a.fixture)==null?void 0:t.id]),{[a.id]:s(d({},a),{acceptedOdds:a.odds})})})})},clear:a=>{n.update(e=>s(d({},e),{[a]:{}}))}})})(),He=k(Q,n=>v.entries(n).reduce((a,[e,t])=>s(d({},a),{[e]:v.values(t)}),{})),Ue=k(Q,n=>v.entries(n).reduce((a,[e,t])=>s(d({},a),{[e]:v.values(t).map(i=>i.market.id)}),{})),W=(()=>{const n=V({});return s(d({},n),{remove:a=>{n.update(e=>s(d({},e),{[a.fixture.id]:v.omit(e[a.fixture.id],a.id)}))},add:a=>{n.update(e=>{var t;return s(d({},e),{[a.fixture.id]:s(d({},e==null?void 0:e[(t=a==null?void 0:a.fixture)==null?void 0:t.id]),{[a.id]:s(d({},a),{acceptedOdds:a.odds})})})})},clear:a=>{n.update(e=>s(d({},e),{[a]:{}}))}})})(),Ze=k(W,n=>v.entries(n).reduce((a,[e,t])=>s(d({},a),{[e]:v.values(t)}),{})),Je=k(W,n=>v.entries(n).reduce((a,[e,t])=>s(d({},a),{[e]:v.values(t).map(i=>i.market.id)}),{})),se=V(null),oe=(()=>{const n=De("sportMarketGroupMap",{});return s(d({},n),{setSportMarketGroup:({sport:a,group:e})=>{n.update(t=>s(d({},t),{[a]:e}))}})})(),Xe=n=>{const a=V(n),e=k([oe,a],([t,i])=>t[i]||Ce);return d({changeSport:t=>a.set(t)},e)},g=k(C,n=>v.values(n)),L=k(C,n=>Object.keys(n).length),le=k(g,n=>n.filter(a=>a.status!=="active")),me=k(g,n=>n.map(a=>a.id)),ue=k(g,n=>n.filter(a=>"betResponse"in a&&a.betResponse)),Ye=k(ue,n=>n.some(a=>a.betResponse.type==="error")),ke=(()=>{const n=e=>v.fromPairs(e.map(t=>[t.name,Number(t.sportBetMin.value)])),a=V({});return s(d({},a),{requestCurrencyMinBets:async e=>{const t=await je(e),i=n(t);return a.set(i),i}})})(),ce=k(g,n=>n.reduce((a,e)=>a*e.odds,1)),_=k(le,n=>n.length!==0),O=k(g,n=>n.some(a=>a.odds===0)),G=k(g,n=>n.some(a=>a.odds!==a.acceptedOdds)),z=k(g,n=>n.map(a=>a.fixture.id).reduce((a,e,t,i)=>a.includes(e)===!1&&i.slice(t+1).includes(e)?[...a,e]:a,[])),pe=k([M,F,g,P],([n,a,e,t])=>n==="multi"?Number(a):e.reduce((i,m)=>i+Number(t[m.id]),0)),$e=k([P,g],([n,a])=>{const e=a,t=e[0]?Number(n[e[0].id]):void 0;return e.every(i=>Number(n[i.id])===t)}),ea=k([se,g],([n,a])=>n?0:a.filter(e=>e.betResponse===void 0).length),aa=k([M,ce,g,P,F],([n,a,e,t,i])=>n==="multi"?a*Number(i):e.reduce((m,o)=>m+o.odds*Number(t[o.id]),0)),ve=n=>{const a=D(0),e=v.fromPairs(n.map(i=>[i.id,i])),t=v.fromPairs(n.map(i=>[i.id,a]));B(Y)===!1&&X.set("betslip"),j.set("betSlip"),C.set(e),F.set(a),P.update(i=>d(d({},i),t))},Ne=k([ke,A],([n,a])=>n[a]||0),K=k([Ne,M,me,F,P],([n,a,e,t,i])=>{if(a==="single"){if(e.some(m=>Number(i[m])===0))return"zeroAmount";if(e.some(m=>Number(i[m])<n))return"minAmount"}else{const m=Number(t);if(m===0)return"zeroAmount";if(m<n)return"minAmount"}return"valid"}),H=k([pe,Ae],([n,a])=>n>a),na=k([K,H,_,O,L],([n,a,e,t,i])=>n!=="valid"||a||e||t||i===0),ye=k(T,n=>h("betSlip.multi.fetching",n)||h("betSlip.single.fetching",n)),ta=k(T,n=>h("betSlip.single.fetching",n)===!1),ia=k(T,n=>h("betSlip.multi.completedBet",n)||h("betSlip.single.completedBet",n)),ra=V("active"),Se=k([g,M],([n,a])=>a==="multi"&&(n.some(e=>e.customBet)||n.some(e=>e.__typename==="PlayerPropBet")&&!n.every(e=>e.__typename==="PlayerPropBet"))),da=k([z,G,L,_,O,K,H,ye,Se],([n,a,e,t,i,m,o,u,N])=>n.length!==0||a||e===0||t||i||m!=="valid"||o||u||N),fe=(()=>{const n=ae(xe);return s(d({},n),{updateBet:(a,e)=>{n.update(t=>{var o,u,N,c,p,r;const i=((N=(u=(o=t==null?void 0:t.data)==null?void 0:o.user)==null?void 0:u.activeSportBets)==null?void 0:N.map(l=>l.id===a?e(l):l))||[],m=((r=(p=(c=t==null?void 0:t.data)==null?void 0:c.user)==null?void 0:p.activePlayerPropBetList)==null?void 0:r.map(l=>l.id===a?e(l):l))||[];return i.length!==0||m.length!==0?s(d({},t),{data:s(d({},t.data),{user:s(d({},t.data.user),{activeSportBets:i,activePlayerPropBetList:m})})}):t})},removeBet:a=>{n.update(e=>{var m,o,u,N,c;const t=(((o=(m=e==null?void 0:e.data)==null?void 0:m.user)==null?void 0:o.activeSportBets)||[]).filter(p=>p.id!==a),i=(((N=(u=e==null?void 0:e.data)==null?void 0:u.user)==null?void 0:N.activePlayerPropBetList)||[]).filter(p=>p.id!==a);return s(d({},e),{data:((c=e==null?void 0:e.data)==null?void 0:c.user)?s(d({},e.data),{user:s(d({},e.data.user),{activeSportBets:t,activePlayerPropBetList:i})}):null})})},updateFixtureEventStatus:({betId:a,outcomeId:e,eventStatus:t})=>{n.update(i=>{var m;return((m=i==null?void 0:i.data)==null?void 0:m.user)?s(d({},i),{data:s(d({},i.data),{user:s(d({},i.data.user),{activeSportBets:i.data.user.activeSportBets.map(o=>o.id===a?s(d({},o),{outcomes:o.outcomes.map(u=>u.outcome.id===e?s(d({},u),{fixture:s(d({},u.fixture),{eventStatus:t})}):u)}):o),activePlayerPropBetList:i.data.user.activePlayerPropBetList.map(o=>o.id===a?s(d({},o),{playerProps:o.playerProps.map(u=>u.id===e?s(d({},u),{playerProp:s(d({},u.playerProp),{market:s(d({},u.playerProp.market),{game:s(d({},u.playerProp.market.game),{fixture:s(d({},u.playerProp.market.game.fixture),{eventStatus:t})})})})}):u)}):o)})})}):i})},addBet:a=>{n.update(e=>{var m,o,u,N,c,p;const t=[...((o=(m=e==null?void 0:e.data)==null?void 0:m.user)==null?void 0:o.activeSportBets)||[],!(a==null?void 0:a.playerProps)&&a].filter(Boolean)||[],i=[...((N=(u=e==null?void 0:e.data)==null?void 0:u.user)==null?void 0:N.activePlayerPropBetList)||[],(a==null?void 0:a.playerProps)&&a].filter(Boolean)||[];return s(d({},e),{data:((c=e==null?void 0:e.data)==null?void 0:c.user)?s(d({},e.data),{user:s(d({},(p=e==null?void 0:e.data)==null?void 0:p.user),{activeSportBets:t,activePlayerPropBetList:i})}):null})})}})})(),sa=k(fe,n=>{var a,e,t,i,m,o;return((t=(e=(a=n==null?void 0:n.data)==null?void 0:a.user)==null?void 0:e.activeSportBets)==null?void 0:t.length)+((o=(m=(i=n==null?void 0:n.data)==null?void 0:i.user)==null?void 0:m.activePlayerPropBetList)==null?void 0:o.length)||0}),oa=k([g,M],([n,a])=>a==="multi"&&n.some(e=>e.__typename==="PlayerPropBet")),la=(()=>ae(Oe))(),ma=k([z,G,L,_,O,T],([n,a,e,t,i,m])=>{const o=h("betSlip.multi.fetching",m);return n.length!==0||a||e===0||t||i||o}),ua={replaceBets:ve,repeatStake:()=>{const n=B(g);P.update(a=>{const e=Number(a[n[0].id]);return v.mapValues(a,()=>D(e))})},assignResultToBets:n=>{C.update(a=>v.mapValues(a,e=>{const[t]=e.id.split("_"),i=n.find(m=>{var o,u,N,c,p,r,l,b,y;return(e==null?void 0:e.customBet)?e.id===((u=(o=m.variables)==null?void 0:o.outcomeIds)==null?void 0:u.join("_"))||((c=(N=m.variables)==null?void 0:N.lines)==null?void 0:c.join("_")):((r=(p=m.variables)==null?void 0:p.outcomeIds)==null?void 0:r[0])===t||((y=(b=(l=m.variables)==null?void 0:l.lines)==null?void 0:b[0])==null?void 0:y.propId)===t});return i?s(d({},e),{betResponse:i}):e}))},getStorageBets:async n=>{const a=await Ge();a!==null&&ve(a)}},ka=()=>new Promise(async n=>{const a=B(A),e=B(P),t=B(g),i=B($),m=t.filter(r=>r.market.__typename!=="PlayerPropMarket"&&!r.customBet).map(r=>({amount:Number(e[r.id]),currency:a,outcomeIds:[r.id],oddsChange:i})),o=t.filter(r=>r.market.__typename!=="PlayerPropMarket"&&r.customBet).map(r=>({amount:Number(e[r.id]),currency:a,outcomeIds:r.selections,oddsChange:i,multiplier:r.multiplier})),u=t.filter(r=>r.market.__typename==="PlayerPropMarket"&&!r.customBet).map(r=>{const[l,b]=r.id.split("_");return{amount:Number(e[r.id]),currency:a,requestedMultiplier:r.odds,oddsChange:i,lines:[{propId:l,lineType:b}]}}),N=t.filter(r=>r.market.__typename==="PlayerPropMarket"&&r.customBet).map(r=>(r.id.split("_"),{amount:Number(e[r.id]),currency:a,requestedMultiplier:r.odds,oddsChange:i,lines:r.lines,sport:r.sport})),c=E(),p=await Promise.all([...m.map(r=>c.mutation(ie,r).toPromise().then(l=>{var y,S,f;return l.error?{type:"error",variables:r,error:{message:((f=(S=(y=l.error)==null?void 0:y.graphQLErrors)==null?void 0:S[0])==null?void 0:f.message)||"Network disconnected"}}:{type:"success",variables:r,bet:l.data.sportBet}})),...o.map(r=>c.mutation(Ee,r).toPromise().then(l=>{var y,S,f;return l.error?{type:"error",variables:r,error:{message:((f=(S=(y=l.error)==null?void 0:y.graphQLErrors)==null?void 0:S[0])==null?void 0:f.message)||"Network disconnected"}}:{type:"success",variables:r,bet:l.data.customSportBet}})),...u.map(r=>c.mutation(re,r).toPromise().then(l=>{var y,S,f;return l.error?{type:"error",variables:r,error:{message:((f=(S=(y=l.error)==null?void 0:y.graphQLErrors)==null?void 0:S[0])==null?void 0:f.message)||"Network disconnected"}}:{type:"success",variables:r,bet:l.data.createPlayerPropBet}})),...N.map(r=>c.mutation(qe,r).toPromise().then(l=>{var y,S,f;return l.error?{type:"error",variables:r,error:{message:((f=(S=(y=l.error)==null?void 0:y.graphQLErrors)==null?void 0:S[0])==null?void 0:f.message)||"Network disconnected"}}:{type:"success",variables:r,bet:l.data.createPlayerPropCustomBet}}))]);R.next({type:"fetchActiveBets"}),n(p)}),ca=()=>new Promise(async(n,a)=>{var t,i;const e=E();try{const m=B(g),o=B(A),u=B($),N=Number(B(F));let c;if(((i=(t=m[0])==null?void 0:t.market)==null?void 0:i.__typename)==="PlayerPropMarket"){const p={amount:N,currency:o,oddsChange:u,requestedMultiplier:m.reduce((r,l)=>l.odds*r,1),lines:m.map(r=>{const[l,b]=r.id.split("_");return{propId:l,lineType:b}})};c=await e.mutation(re,p).toPromise().then(r=>{var b,y,S,f;const{error:l}=r;return l?{type:"error",variables:p,error:{message:((y=(b=l==null?void 0:l.graphQLErrors)==null?void 0:b[0])==null?void 0:y.message)||"Network disconnected",errorType:((f=(S=l==null?void 0:l.graphQLErrors)==null?void 0:S[0])==null?void 0:f.errorType)||"error"}}:{type:"success",variables:p,bet:r.data.createPlayerPropBet}})}else{const p={amount:N,currency:o,outcomeIds:m.map(r=>r.id),oddsChange:u};c=await e.mutation(ie,p).toPromise().then(r=>{var b,y,S,f;const{error:l}=r;return l?{type:"error",variables:p,error:{message:((y=(b=l==null?void 0:l.graphQLErrors)==null?void 0:b[0])==null?void 0:y.message)||"Network disconnected",errorType:((f=(S=l==null?void 0:l.graphQLErrors)==null?void 0:S[0])==null?void 0:f.errorType)||"error"}}:{type:"success",variables:p,bet:r.data.sportBet}})}c.type==="success"?(R.next({type:"fetchActiveBets"}),n(c)):c.type==="error"&&("error"in c&&c.error.errorType==="oddsOutdated"&&await Promise.all(m.map(p=>e.query(te,{marketId:p.marketId}).toPromise())),a(c))}catch(m){a(m)}});var Ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",activeTab:j,multiBetAmount:F,xstate:T,tab:M,sportWidgets:ze,matchStatistics:Ke,inputs:P,betMap:C,customBetMap:Q,customBetListMap:He,customBetMarketIdListMap:Ue,customPropsMap:W,customPropsListMap:Ze,customPropsMarketIdListMap:Je,multiBetResponse:se,sportMarketGroupMap:oe,createDerivedSportMarketGroup:Xe,betList:g,betCount:L,inactiveBets:le,betIds:me,betsWithResponses:ue,hasFailed:Ye,currencyMinBets:ke,totalOdds:ce,hasInactiveBets:_,hasZeroOdds:O,hasChangedOdds:G,fixtureIdsWithMultipleBets:z,totalBetAmount:pe,everyAmountIsSame:$e,betListCount:ea,estimatedPayout:aa,currentMinBetAmount:Ne,inputValidation:K,amountMoreThanBalance:H,singleBetDisabled:na,fetching:ye,showMessages:ta,completedBet:ia,myBetsTab:ra,invalidMulti:Se,multiBetDisabled:da,activeBets:fe,activeBetsCount:sa,hasPropBet:oa,settledBets:la,multiMaxBetDisabled:ma,actions:ua,placeSingleBet:ka,placeMultiBet:ca});export{la as A,ze as B,ea as C,ke as D,Ta as E,T as F,ca as G,ka as H,se as I,Ke as J,Je as K,Ue as L,W as M,Q as N,Xe as O,oe as P,xe as Q,He as R,Ze as S,fe as a,sa as b,L as c,Ca as d,Se as e,ye as f,Da as g,O as h,P as i,H as j,_ as k,G as l,F as m,K as n,z as o,Ne as p,ma as q,g as r,j as s,M as t,ra as u,C as v,Ye as w,ia as x,$e as y,ua as z};
