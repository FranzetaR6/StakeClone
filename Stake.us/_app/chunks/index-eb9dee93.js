var j=Object.defineProperty,Q=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var h=(e,a,n)=>a in e?j(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,u=(e,a)=>{for(var n in a||(a={}))x.call(a,n)&&h(e,n,a[n]);if(F)for(var n of F(a))M.call(a,n)&&h(e,n,a[n]);return e},g=(e,a)=>Q(e,P(a));import{C as r,R as p,a7 as l,_ as m,ar as R,H as L,T as O}from"./vendor-202ba1b8.js";import{R as q}from"./RacePosition.generated-d1996233.js";import{U as _}from"./UserTags.generated-5f0e6eb8.js";import{a as K,S as V}from"./context-88a045a1.js";import{i as b,P as W,Q as Y,T as Z}from"./index-239f6385.js";import{A as G}from"./AddIgnoredUser.generated-6faf1df3.js";import{D as H}from"./DeleteIgnoredUser.generated-b04ad91c.js";import{i as C}from"./_ignoredUserListFetchStore-8ca6e522.js";import{n as f}from"./index-a7a6ffa9.js";import{d as z}from"./index-da75da01.js";import{m as S}from"./utils-2db7bfcb.js";import{p as X,s as J}from"./stores-5d02eee0.js";import{u as E}from"./index-b069bb96.js";import{l as $,m as ee}from"./index-78395626.js";import{m as ae}from"./makeFetchStore-06397d55.js";const ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PublicChats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publicChats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isPublic"}}]}}]}}]},I={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ChatMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataRace"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"race"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"startTime"}},{kind:"Field",name:{kind:"Name",value:"leaderboard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RacePosition"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataTrivia"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"question"}},{kind:"Field",name:{kind:"Name",value:"answer"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"winner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTags"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataBot"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataTip"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tip"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",alias:{kind:"Name",value:"sender"},name:{kind:"Name",value:"sendBy"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTags"}}]}},{kind:"Field",alias:{kind:"Name",value:"receiver"},name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTags"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChatMessageDataRain"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rain"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"rainUsers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"giver"},name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTags"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTags"}}]}}]}},...q.definitions,..._.definitions]},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chat"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatId"},value:{kind:"Variable",name:{kind:"Name",value:"chatId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"messageList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"30"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ChatMessage"}}]}}]}}]}},...I.definitions]},se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"ChatMessages"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatMessages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatId"},value:{kind:"Variable",name:{kind:"Name",value:"chatId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ChatMessage"}}]}}]}},...I.definitions]},te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"message"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatId"},value:{kind:"Variable",name:{kind:"Name",value:"chatId"}}},{kind:"Argument",name:{kind:"Name",value:"message"},value:{kind:"Variable",name:{kind:"Name",value:"message"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"slashCommandsUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]},de=r(!1),oe=r("question"),ha=r(p(z)),Ca=r(""),Ea=r(""),re=r(""),le=r(null),me=r(null),ce=(e,a)=>e&&e.toLowerCase()===a.toLowerCase(),Ia=(e,a)=>{var o,s;const n=new Date(e.createdAt),i=((o=e==null?void 0:e.data)==null?void 0:o.__typename)==="ChatMessageDataText"?e.data.message:"";n.getTime()>p(le).getTime()&&ce(i,p(re))&&((s=e==null?void 0:e.user)==null?void 0:s.id)!==a.id&&(me.set(e),oe.set("credited"))};var A={twitterAlt:l._("Share to Twitter"),viewBet:l._("View bet"),viewCasinoBet:l._("Lookup casino bet"),viewSportBet:l._("Lookup sport bet"),viewUser:l._("View user"),tipUser:l._("Tip user"),trivia:l._("Trivia"),makeRain:l._("Make it Rain"),ignoreUser:l._("Ignore user"),unignoreUser:l._("Unignore user"),adminPanel:l._("Admin panel"),userNotFound:l._("User not found")},ue="/_app/assets/adesanya-96792bf6.png",ge="/_app/assets/beer-675cabe0.png",pe="/_app/assets/biden-5399ef62.png",ke="/_app/assets/brady-c70959de.png",Ae="/_app/assets/catbread-8386b741.gif",ve="/_app/assets/coffee-c1b8200f.png",fe="/_app/assets/cooldoge-f0e5bfc7.png",Se="/_app/assets/coupon-81e21d40.png",be="/_app/assets/dendi-c74bc25b.png",Ne="/_app/assets/djokovic-1db7ddf6.png",Fe="/_app/assets/doge-4acb0326.png",he="/_app/assets/donut-0c86ddce.png",Ce="/_app/assets/easyms-537bddcf.png",Ee="/_app/assets/eddie-d2d5dd96.png",Ie="data:image/png;base64,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",ye="/_app/assets/federer-28afa974.png",De="/_app/assets/gary-b9016af8.png",we="/_app/assets/jordan-e848c7fa.png",Ue="/_app/assets/kanye-8e175f1f.png",Te="/_app/assets/lambo-239ef6f3.png",Be="/_app/assets/lebron-1b382fb4.png",je="/_app/assets/lefroge-29eb45cd.png",Qe="/_app/assets/mahomes-bb90f768.png",Pe="/_app/assets/mcgregor-e3a51068.png",xe="/_app/assets/messi-8f7ab838.png",Me="/_app/assets/nadal-e34670d9.png",Re="/_app/assets/nightdoge-b8b285f1.png",Le="/_app/assets/nyancat-10d469a6.gif",Oe="/_app/assets/osaka-bbebcc33.png",qe="/_app/assets/pepe-17a128a2.png",_e="/_app/assets/pikachu-2867e9c2.png",Ke="/_app/assets/rigged-6f4aad41.png",Ve="/_app/assets/rish-b7f077b2.png",We="/_app/assets/ronaldo-b7769c52.png",Ye="/_app/assets/santa-688bde25.png",Ze="/_app/assets/skem-c930d720.png",Ge="/_app/assets/trump-30a20c5e.png",He="/_app/assets/umbrella-55f71a21.png",ze="/_app/assets/williams-850cb3d1.png",Xe="/_app/assets/woods-118266e9.png",Je="/_app/assets/elon-c1debee3.png",$e="/_app/assets/feelsgoodman-e4e32537.png",ea="/_app/assets/monkas-2f6e3e9e.png",aa="/_app/assets/pepehands-d13947be.png",na="/_app/assets/poggers-db0af998.png";const ia={adesanya:ue,biden:pe,beer:ge,brady:ke,catbread:Ae,coffee:ve,cooldoge:fe,coupon:Se,dendi:be,djokovic:Ne,doge:Fe,donut:he,easymoney:Ce,eddie:Ee,ezpz:Ie,federer:ye,gary:De,jordan:we,kanye:Ue,lambo:Te,lebron:Be,lefroge:je,mahomes:Qe,mcgregor:Pe,messi:xe,nadal:Me,nightdoge:Re,nyancat:Le,osaka:Oe,pepe:qe,pikachu:_e,rigged:Ke,rish:Ve,ronaldo:We,santa:Ye,skem:Ze,trump:Ge,umbrella:He,williams:ze,woods:Xe,elon:Je,feelsgoodman:$e,monkas:ea,pepehands:aa,poggers:na},sa=Object.keys(ia).map(e=>`:${e}:`).sort(),ta=[{cmd:"/bet",icon:"emoji-stats",desc:"View bet",message:A.viewBet,syntax:"[bet id]",action:(...e)=>{const a=e.join();a.length&&S.bet.open({iid:a})}},{cmd:"/casino",icon:"emoji-stats",desc:"View casino bet",message:A.viewCasinoBet,syntax:"[bet id]",hidden:!0,action:e=>{const a=`house:${e.replace(/\D/g,"")}`;a.length&&S.bet.open({iid:a})}},{cmd:"/sport",icon:"emoji-stats",desc:"View sport bet",message:A.viewSportBet,syntax:"[bet id]",hidden:!0,action:e=>{const a=`sport:${e.replace(/\D/g,"")}`;a.length&&S.bet.open({iid:a})}},{cmd:"/user",icon:"emoji-user",desc:"View user",message:A.viewUser,syntax:"@user",action:e=>{S.user.open({name:e})}},$,{cmd:"/trivia",icon:"trivia",desc:"Trivia",message:A.trivia,admin:!0,action:()=>{de.set(!0)}},ee,{cmd:"/ignore",icon:"emoji-ignore",desc:"Ignore user",message:A.ignoreUser,syntax:"@user",action:async e=>{if(!e)f.userNotFound.open();else try{const a=b(),{data:{user:n}}=await a.query(y,{name:e},{requestPolicy:"network-only"}).toPromise();n?(await a.mutation(G,{userId:n.id},{requestPolicy:"network-only"}).toPromise()).data&&(p(C).data&&C.loadMore({load:{fetch,page:p(X),session:p(J)},variables:{},combine:(o,s)=>s}),f.userIgnored.open()):f.userNotFound.open()}catch(a){throw a}}},{cmd:"/unignore",icon:"emoji-unignore",desc:"Unignore user",message:A.unignoreUser,syntax:"@user",action:async(e,a)=>{if(!e)f.userNotFound.open();else try{const n=b(),{data:{user:i}}=await n.query(y,{name:e},{requestPolicy:"network-only"}).toPromise();i?await n.mutation(H,{userId:i.id},{requestPolicy:"network-only"}).toPromise():f.userNotFound.open()}catch(n){throw n}}},{cmd:"/admin",icon:"gear",desc:"Admin panel",message:A.adminPanel,syntax:"@user",admin:!0,action:e=>{S.moderation.open({name:e})}},{cmd:"/unsichtbar",hidden:!0,action:()=>{E.set(!0)}},{cmd:"/sichtbar",hidden:!0,action:()=>{E.set(!1)}}].filter(Boolean),da=(e,a,n)=>ta.filter(i=>(i.admin?a:!0)&&i.cmd.toLowerCase().includes(e.toLowerCase())&&(n?!0:!i.hidden)),ya=e=>e.substring(e.length-1)===" "?!1:e.length===1&&e.includes(":")?!0:m.last(e.split(" ")).includes(":"),Da=e=>e.substring(e.length-1)===" "?!1:e.length===1&&e.includes("@")?!0:m.last(e.split(" ")).includes("@"),wa=e=>e.ref?m.last(`${e.message}`.slice(0,e.ref.selectionStart).split("@")).replace("@","").toLowerCase():"",Ua=e=>e.ref?m.last(`${e.message}`.slice(0,e.ref.selectionStart).split(":")).replace(":","").toLowerCase():"",Ta=e=>{const a=sa.filter(n=>n.toLowerCase().includes(e.toLowerCase()));return m.uniq(a).map(n=>({emoji:n}))},Ba=(e,a)=>{const n=[...a].map(i=>i.name).filter(i=>i.toLowerCase().includes(e.toLowerCase()));return e.length>0&&n.push(e),m.uniq(n).map(i=>({name:i}))},ja=(e,{emoji:a})=>{const n=m.last(e.message.split(":"));return`${e.message.substring(0,e.message.length-n.length-1)}${a} `},Qa=(e,{name:a})=>{const n=m.last(e.message.split("@"));return`${e.message.substring(0,e.message.length-n.length)}${a} `},D=W(),Pa=e=>D.subscribe(a=>{const n=a.type in e?e[a.type]:void 0;n&&n(a)}),N=(()=>r(null))(),xa=Y(!1),w=ae(ne),Ma=R([w,N],([e,a])=>{var n;return(n=e==null?void 0:e.data)==null?void 0:n.publicChats.find(i=>i.id===a)}),Ra=()=>(()=>{const e=r({loading:!1,messageList:[]});let a=n=>{e.update(i=>g(u({},i),{messageList:m.uniqBy([...i.messageList.slice(-50),n],"id")})),U.update(i=>m.uniqBy([...i,n.user],"id"))};return g(u({},e),{addMessage:a,fetch:({chatId:n,urqlId:i,onCompleted:o})=>{let s=!1;const t=b();return e.set({loading:!0,messageList:[]}),t.query(ie,{chatId:n},{requestPolicy:"network-only"}).toPromise().then(d=>{var c,v;s=!0;const k=[...((v=(c=d==null?void 0:d.data)==null?void 0:c.chat)==null?void 0:v.messageList)||[]].reverse();U.update(T=>m.uniqBy([...k.map(B=>B.user),...T],"id")),e.set({loading:!1,messageList:k}),o&&o()}),L(t.subscription(se,{chatId:n}),O(d=>{var k;if(s){const c=(k=d.data)==null?void 0:k.chatMessages;c&&(a(c),D.next({type:"message",data:c}))}}))}})})(),U=r([]),La=(()=>{const e=r({message:"",loading:!1,ref:null});return g(u({},e),{sendMessage:async a=>{const{message:n,ref:i}=p(e);if(n.trim().length>=1&&n.length<=Z)if(i&&i.focus(),n[0]==="/"){const[o,...s]=n.replace("@","").split(" "),t=da("",a.hasRole,!0).find(({cmd:d})=>d===o);t&&(e.update(d=>g(u({},d),{message:""})),t.action(...s))}else{e.update(s=>g(u({},s),{message:"",loading:!0}));const o=b();try{(await o.mutation(te,{chatId:p(N),message:n}).toPromise()).error?e.update(t=>g(u({},t),{loading:!1,message:n})):e.update(t=>g(u({},t),{loading:!1}))}catch{e.update(t=>g(u({},t),{loading:!1,message:n}))}}}})})(),Oa=(e,a)=>{var k,c;const i=e.startsWith("/sports")?V:"",o=`${i}${a}`,s=`${i}${K.en}`,t=((c=(k=p(w))==null?void 0:k.data)==null?void 0:c.publicChats)||[],d=t.find(({name:v})=>v===o)||t.find(({name:v})=>v===s)||t[0];(d==null?void 0:d.id)&&N.set(d.id)};export{Oa as A,ia as C,N as a,re as b,ha as c,Ca as d,Pa as e,Ia as f,w as g,Ma as h,me as i,Ra as j,La as k,Da as l,ya as m,wa as n,de as o,Ba as p,Ea as q,U as r,oe as s,le as t,Ua as u,Ta as v,da as w,ja as x,Qa as y,xa as z};
